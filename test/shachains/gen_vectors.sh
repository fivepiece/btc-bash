#!/bin/bash

declare -au val32s val6s

val32s[0]=0000000000000000000000000000000000000000000000000000000000000000
val32s[1]=0000010101010101010101010101010101010101010101010101010101010101
val32s[2]=0000101010101010101010101010101010101010101010101010101010101010
val32s[3]=000102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F
val32s[4]=0101010101010101010101010101010101010101010101010101010101010000
val32s[5]=0101010101010101010101010101010101010101010101010101010101010101
val32s[6]=1010101010101010101010101010101010101010101010101010101010100000
val32s[7]=1010101010101010101010101010101010101010101010101010101010101010
val32s[8]=1F1E1D1C1B1A191817161514131211100F0E0D0C0B0A09080706050403020100
val32s[9]=5555555555555555555555555555555555555555555555555555555555555555
val32s[10]=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
val32s[11]=FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF

val6s[0]=000000000000
val6s[1]=000001010101
val6s[2]=000010101010
val6s[3]=000102030405
val6s[4]=010101010000
val6s[5]=010101010101
val6s[6]=101010100000
val6s[7]=101010101010
val6s[8]=050403020100
val6s[9]=555555555555
val6s[10]=AAAAAAAAAAAA
val6s[11]=FFFFFFFFFFFF

val256s[0]=0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
val256s[1]=0000000000000000000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001
val256s[2]=0000000000000000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000
val256s[3]=0000000000000001000000100000001100000100000001010000011000000111000010000000100100001010000010110000110000001101000011100000111100010000000100010001001000010011000101000001010100010110000101110001100000011001000110100001101100011100000111010001111000011111
val256s[4]=0000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000000000000
val256s[5]=0000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000000
val256s[6]=0001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000000000000000000
val256s[7]=0001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000000100000001000000010000
val256s[8]=0001111100011110000111010001110000011011000110100001100100011000000101110001011000010101000101000001001100010010000100010001000000001111000011100000110100001100000010110000101000001001000010000000011100000110000001010000010000000011000000100000000100000000
val256s[9]=0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101
val256s[10]=1010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010
val256s[11]=1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111

val48s[0]=000000000000000000000000000000000000000000000000
val48s[1]=000000000000000000000001000000010000000100000001
val48s[2]=000000000000000000010000000100000001000000010000
val48s[3]=000000000000000100000010000000110000010000000101
val48s[4]=000000010000000100000001000000010000000000000000
val48s[5]=000000010000000100000001000000010000000100000000
val48s[6]=000100000001000000010000000100000000000000000000
val48s[7]=000100000001000000010000000100000001000000010000
val48s[8]=000001010000010000000011000000100000000100000000
val48s[9]=010101010101010101010101010101010101010101010101
val48s[10]=101010101010101010101010101010101010101010101010
val48s[11]=111111111111111111111111111111111111111111111111

lpad()
{
    local str="${1}" OIFS="$IFS"
    IFS='%'
    read str < <( printf "%0${2}s%s" "${str}" )
    echo "${str//$' '/0}"
    IFS="$OIFS"
}

gen_seed_vectors()
{
    local -Au tseeds tleafs
    tseeds[02A40C85B6F28DA08DFDBE0926C53FAB2DE6D28C10301F8F7C4073D5E42E3148]=0000000000000000000000000000000000000000000000000000000000000000
    tseeds[7CC854B54E3E0DCDB010D7A3FEE464A9687BE6E8DB3BE6854C475621E007A5DC]=FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
    tseeds[56F4008FB007CA9ACF0E15B054D5C9FD12EE06CEA347914DDBAED70D1C13A528]=FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
    tseeds[9015DAAEB06DBA4CCC05B91B2F73BD54405F2BE9F217FBACD3C5AC2E62327D31]=FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
    tseeds[915C75942A26BB3A433A8CE2CB0427C29EC6C1775CFC78328B57F6BA7BFEAA9C]=0101010101010101010101010101010101010101010101010101010101010101

    tleafs[02A40C85B6F28DA08DFDBE0926C53FAB2DE6D28C10301F8F7C4073D5E42E3148]=FFFFFFFFFFFF
    tleafs[7CC854B54E3E0DCDB010D7A3FEE464A9687BE6E8DB3BE6854C475621E007A5DC]=FFFFFFFFFFFF
    tleafs[56F4008FB007CA9ACF0E15B054D5C9FD12EE06CEA347914DDBAED70D1C13A528]=AAAAAAAAAAA
    tleafs[9015DAAEB06DBA4CCC05B91B2F73BD54405F2BE9F217FBACD3C5AC2E62327D31]=555555555555
    tleafs[915C75942A26BB3A433A8CE2CB0427C29EC6C1775CFC78328B57F6BA7BFEAA9C]=1

    #local leaf zero=0 one=1 fives=555555555555 aaa=AAAAAAAAAAA fff=FFFFFFFFFFFF
    echo "declare -A vseeds vleafs"
    for i in ${!tseeds[@]}; do
        echo "vseeds[${i}]=${tseeds[$i]}"
    done
    echo
    for i in ${!tleafs[@]}; do
        echo "vleafs[${i}]=${tleafs[$i]}"
    done
    unset tleafs tseeds
}

gen_bconv_vectors()
{

    echo -e "\ndeclare -A v16to2_256"

    for ((i=0; i<${#val32s[@]}; i++)); do
        while read val322; do
            read val32i < <( BC_ENV_ARGS='-q' bc <<<" obase=16; ibase=2; ${val322}; " )
            read val32i < <( lpad ${val32i} 64 )
            read val322 < <( lpad ${val322} 256 )
            echo "v16to2_256[${val32i}]=${val322}"
        done < <( BC_ENV_ARGS='-q' bc <<<"obase=2; ibase=16; j=-8; k=8; if ($i==0) { j=0; k=10; }; if ($i==11) { j=-10; k=0; }; for (i=j; i<=k; i++) { ${val32s[$i]}+i }; " )
        echo
    done

    echo -e "\ndeclare -A v16to2_48"

    for ((i=0; i<${#val6s[@]}; i++)); do
        while read val62; do
            read val6i < <( BC_ENV_ARGS='-q' bc <<<" obase=16; ibase=2; ${val62}; " )
            read val6i < <( lpad ${val6i} 12 )
            read val62 < <( lpad ${val62} 48 )
            echo "v16to2_48[${val6i}]=${val62}"
        done < <( BC_ENV_ARGS='-q' bc <<<"obase=2; ibase=16; j=-8; k=8; if ($i==0) { j=0; k=10; }; if ($i==11) { j=-10; k=0; }; for (i=j; i<=k; i++) { ${val6s[$i]}+i }; " )
        echo
    done

    echo -e "\ndeclare -A v2to16_256"

    for ((i=0; i<${#val256s[@]}; i++)); do
        while read val256x; do
            read val256i < <( BC_ENV_ARGS='-q' bc <<<" obase=2; ibase=16; ${val256x}; " )
            read val256i < <( lpad ${val256i} 256 )
            read val256x < <( lpad ${val256x} 64 )
            echo "v2to16_256[${val256i}]=${val256x}"
        done < <( BC_ENV_ARGS='-q' bc <<<"obase=16; ibase=2; j=-1000; k=1000; if ($i==0) { j=0; k=10000; }; if ($i==11) { j=-10000; k=0; }; for (i=j; i<=k; i++) { ${val256s[$i]}+i }; " )
        echo
    done

    echo -e "\ndeclare -A v2to16_48"

    for ((i=0; i<${#val48s[@]}; i++)); do
        while read val48x; do
            read val48i < <( BC_ENV_ARGS='-q' bc <<<" obase=2; ibase=16; ${val48x}; " )
            read val48i < <( lpad ${val48i} 48 )
            read val48x < <( lpad ${val48x} 12 )
            echo "v2to16_48[${val48i}]=${val48x}"
        done < <( BC_ENV_ARGS='-q' bc <<<"obase=16; ibase=2; j=-1000; k=1000; if ($i==0) { j=0; k=10000; }; if ($i==11) { j=-10000; k=0; }; for (i=j; i<=k; i++) { ${val48s[$i]}+i }; " )
        echo
    done
}

gen_vectors()
{
    echo '#/bin/bash'
    #gen_bconv_vectors
    gen_seed_vectors
}
