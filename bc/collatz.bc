scale=0;

define round(n){

#  print n, "\n";

  n = (n / 2);

  return spin(n);
}

define nround(n){

  if (n == 1){

    return 1;
  }

#  print n, "\n";

  n = ((n * 3) + 1);

  return spin(n);
}

define spin(n){

  if ((n % 2) == 0){

    return round(n);
  } else {

    return nround(n);
  }
}

define void collatz(n){

  while (1){

#    print n, "\n";

    if (n == 1){

        break;
    }

    if ((n % 2) == 0){

      n /= 2;
    } else {

      n = ((n * 3) + 1);
    }
  }
}       
